!function(e,t,n){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=r(e),a=function(e){try{var n=e.property,r=(e.record,e.onChange),a=n.custom;console.log(e);return o.default.createElement(t.Box,{pb:"x3"},o.default.createElement(t.Label,null,n.label),Object.keys(a).length?Object.keys(a).map((function(e){return o.default.createElement("p",{key:"subtitle-".concat(e),style:{marginBottom:"15px"}},a[e])})):null,o.default.createElement(t.DropZone,{multiple:!0,onChange:function(e){console.log(e),r(n.name,e[0]),console.log(e[0])}}))}catch(e){console.log("edit error"),console.log(e)}},l=function(e){var n=e.record.params.file;return console.log(n),o.default.createElement(t.Box,null,n?o.default.createElement("img",{src:n,width:"80px"}):"No file")};function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function m(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],l=!0,i=!1;try{for(n=n.call(e);!(l=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);l=!0);}catch(e){i=!0,o=e}finally{try{l||null==n.return||n.return()}finally{if(i)throw o}}return a}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=function(r){var a=r.property,l=r.record,i=r.onChange,u=l.params,c=a.custom,s=n.flat.get(u,c.filePathProperty),d=n.flat.get(u,c.keyProperty),y=n.flat.get(u,c.fileProperty),g=p(e.useState(d),2),b=g[0],h=g[1],C=p(e.useState([]),2),v=C[0],E=C[1];e.useEffect((function(){("string"==typeof d&&d!==b||"string"!=typeof d&&!b||"string"!=typeof d&&Array.isArray(d)&&d.length!==b.length)&&(h(d),E([]))}),[d,b]);return o.default.createElement(t.FormGroup,null,o.default.createElement(t.Label,null,a.label),o.default.createElement(t.DropZone,{onChange:function(e){E(e),i(c.fileProperty,e)},multiple:c.multiple,validate:{mimeTypes:c.mimeTypes,maxSize:c.maxSize},files:v}),!c.multiple&&d&&s&&!v.length&&null!==y&&o.default.createElement(t.DropZoneItem,{filename:d,src:s,onRemove:function(){i(c.fileProperty,null)}}),c.multiple&&d&&d.length&&s?o.default.createElement(o.default.Fragment,null,d.map((function(e,r){return s[r]?o.default.createElement(t.DropZoneItem,{key:e,filename:e,src:s[r],onRemove:function(){return function(e){var t=(n.flat.get(l.params,c.keyProperty)||[]).indexOf(e),r=n.flat.get(l.params,c.filesToDeleteProperty)||[];if(s&&s.length>0){var o=s.map((function(e,n){return n!==t?e:null})),a=n.flat.set(l.params,c.filesToDeleteProperty,[].concat(f(r),[t]));a=n.flat.set(a,c.filePathProperty,o),i(m(m({},l),{},{params:a}))}else console.log("You cannot remove file when there are no uploaded files yet")}(e)}}):""}))):"")},g=["audio/aac","audio/midi","audio/x-midi","audio/mpeg","audio/ogg","application/ogg","audio/opus","audio/wav","audio/webm","audio/3gpp2"],b=["image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/vnd.microsoft.icon","image/tiff","image/webp"],h=function(e){var n=e.name,r=e.path,a=e.mimeType,l=e.width;if(r&&r.length){if(a&&b.includes(a))return o.default.createElement("img",{src:r,style:{maxHeight:l,maxWidth:l},alt:n});if(a&&g.includes(a))return o.default.createElement("audio",{controls:!0,src:r},"Your browser does not support the",o.default.createElement("code",null,"audio"),o.default.createElement("track",{kind:"captions"}))}return o.default.createElement(t.Box,null,o.default.createElement(t.Button,{as:"a",href:r,ml:"default",size:"sm",rounded:!0,target:"_blank"},o.default.createElement(t.Icon,{icon:"DocumentDownload",color:"white",mr:"default"}),n))},C=function(e){var t=e.width,r=e.record,a=e.property,l=a.custom,i=n.flat.get(null==r?void 0:r.params,l.filePathProperty);if(!i)return null;var m=n.flat.get(null==r?void 0:r.params,l.fileNameProperty?l.fileNameProperty:l.keyProperty),u=l.mimeTypeProperty&&n.flat.get(null==r?void 0:r.params,l.mimeTypeProperty);return a.custom.multiple?o.default.createElement(o.default.Fragment,null,i.map((function(e,n){return o.default.createElement(h,{key:e,path:e,name:m[n],width:t,mimeType:u[n]})}))):o.default.createElement(h,{path:i,name:m,width:t,mimeType:u})},v=function(e){return o.default.createElement(C,c({width:100},e))},E=function(e){var n=e.property;return o.default.createElement(t.FormGroup,null,o.default.createElement(t.Label,null,n.label),o.default.createElement(C,c({width:"100%"},e)))},A=function(e){var n=e.property;return o.default.createElement(t.Box,null,o.default.createElement("span",null,"Требования к ссылке на видео"),o.default.createElement(t.Text,null,n.custom.text))},B=function(e){var n=e.record;console.log(e);var r=[];Object.keys(n.params).map((function(e){e.includes("track")&&e.includes("name")&&r.push(n.params[e])})),console.log(r);var a=r;return o.default.createElement(t.Box,null,a?a.map((function(e){return o.default.createElement("p",null,e)})):"No files")};AdminBro.UserComponents={},AdminBro.UserComponents.Component1=a,AdminBro.UserComponents.Component2=l,AdminBro.UserComponents.Component3=a,AdminBro.UserComponents.Component4=l,AdminBro.UserComponents.Component5=y,AdminBro.UserComponents.Component6=v,AdminBro.UserComponents.Component7=E,AdminBro.UserComponents.Component8=A,AdminBro.UserComponents.Component9=A,AdminBro.UserComponents.Component10=y,AdminBro.UserComponents.Component11=v,AdminBro.UserComponents.Component12=E,AdminBro.UserComponents.Component13=B,AdminBro.UserComponents.Component14=B,AdminBro.UserComponents.Component15=y,AdminBro.UserComponents.Component16=v,AdminBro.UserComponents.Component17=E,AdminBro.UserComponents.Component18=y,AdminBro.UserComponents.Component19=v,AdminBro.UserComponents.Component20=E}(React,AdminBroDesignSystem,AdminBro);
